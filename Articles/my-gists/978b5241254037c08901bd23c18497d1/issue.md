# Issue | Parallel Network Request causes lack of result data

1. **ネットワークの問題**:
一部のURLが正常に応答しないか、タイムアウトになっている可能性があります。リクエストが正しく処理されているか確認してください。

1. **同時接続数の制限**:
一部のウェブサーバーは同時に受け入れる接続数に制限をかけていることがあります。同時に多くのHTTPリクエストを発行すると、一部のリクエストがブロックされる可能性があります。これにより、期待した数のステータスコード200のURLが取得できなくなります。リクエストの並列数を減らすか、リクエストの間隔を増やすことで、同時接続数の問題を回避できます。

1. **ウェブサーバーからのブロック**:
ウェブサーバーが高い頻度でのリクエストを検出して、IPアドレスを一時的にブロックしている可能性があります。これにより、一部のリクエストが失敗する可能性があります。リクエストの頻度を減らすか、一時的な休憩を挿入してブロックを回避できます。

1. **ネットワークエラー**:
一部のリクエストがネットワークの問題によりタイムアウトした可能性があります。ネットワークが不安定な場合、リクエストが失敗することがあります。タイムアウト時間を増やすか、ネットワークの安定性を確認することで対処できます。

1. **HTTPクライアントの制限**:
使用しているHTTPクライアントやその設定に制限がある可能性があります。例えば、同時に保持できる接続数やタイムアウトの設定が影響することがあります。HTTPクライアントの設定を調整し、必要に応じて接続数を増やしたり、タイムアウトを調整したりします。

1. **例外の処理**:
例外が発生しても、pbar.update(1)が実行され、進捗バーが進んでしまう可能性があります。エラーが発生した場合でも、進捗バーが正しく更新されているか確認してください。

1. **ログの書き込み先**:
Interface.update_yaml メソッドが正しくログを書き込んでいるか確認してください。また、ファイルが正しい形式で保存されているかも確認してください。

1. **非同期処理の問題**:
非同期処理が正しく行われているか確認してください。await asyncio.gather(*tasks)が全てのタスクが完了するまで待っているか確認してください。

1. **メモリリーク**:
大量の非同期処理がメモリリークを引き起こしている可能性があります。async with httpx.AsyncClient()の対応するクローズ処理が適切に行われているか確認してください。

1. **モジュールの問題**:
使用している外部モジュールが影響している可能性があります。例えば、 massreg や anyio モジュールが原因となっているかもしれません。

1. **リダイレクトが発生**:  
リダイレクトが発生した場合、元のURLからリダイレクト先のURLに移動する必要があります。ログに記録されたステータスコードが302の場合、リダイレクトが発生しています。locationフィールドに指定されている新しいURLに対して、新たなリクエストを行います。リダイレクト先の処理:新しいURLに対するリクエストに対しても、ステータスコードやヘッダーの情報を取得し、必要に応じて追加の処理を行います。
